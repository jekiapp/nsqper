<!DOCTYPE html>
<html>
<head>
    <title>Topic Detail</title>
    <link rel="stylesheet" href="/colors.css">
    <link rel="stylesheet" href="/topic-details/topic_details.css">
</head>
<body>
    <a href="javascript:void(0)" class="back-link" id="back-link">&#8592; Back</a>
    <div class="topic-detail-row-flex">

        <div id="main-panel" class="app-detail-container topic-detail-container">
            <div id="action-buttons" class="topic-actions">
                <button class="action-btn btn-pause">Pause</button>
                <button class="action-btn btn-drain">Drain</button>
                <button class="action-btn btn-publish">Publish</button>
                <button class="action-btn btn-delete">Delete</button>
                <button class="action-btn btn-tail">Tail</button>
            </div>
            <div class="detail-section">
                <div class="topic-header">
                    <span class="topic-name"></span>
                    <span class="bookmark-icon" title="Bookmarked">
                        <img src="/icons/bookmark-false.png" alt="Bookmark" class="bookmark-img" />
                    </span>
                </div>

                <div class="topic-detail-row">
                    <div>
                        <div class="topic-meta">
                            <div><strong>Group Owner:</strong> <span class="group-owner"></span></div>
                        </div>
                        <div class="event-trigger-section ">
                            <label for="event-trigger-input"><strong>Event Trigger:</strong></label>
                            <div class="event-trigger-editable">
                                <textarea id="event-trigger-input" class="event-trigger-input" rows="3" readonly placeholder="Describe what event triggers this topic"></textarea>
                                <span class="event-trigger-check" title="Saved" style="display:none;">&#10003;</span>
                            </div>
                        </div>
                    </div>

                    <div>
                        <div class="topic-stats-section">
                            <div class="stats-row-flex" style="display:flex; align-items:center; justify-content:space-between;">
                                <label><strong>Stats:</strong></label>
                                <a href="javascript:void(0)" id="autorefresh-link" style="cursor:pointer; text-decoration:none; color:#1e90ff;">
                                    <img src="/icons/playbutton.png" title="Autorefresh for 30 seconds" id="autorefresh-icon" alt="Autorefresh" style="width:20px;vertical-align:middle;"></a>
                            </div>
                            <div class="detail-mini-section">
                                <div>Depth: <span class="topic-stats-depth"></span></div>
                                <div>Messages: <span class="topic-stats-messages"></span></div>
                            </div>
                        </div>

                        <div class="nsqd-hosts-section">
                            <label><strong>Nsqd Hosts:</strong></label>
                            <div class="detail-mini-section">
                                <ul class="nsqd-hosts-list"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="publish-panel" class="app-detail-container topic-detail-container" style="display:none;">
            <button id="close-publish-panel" style="position:absolute; top:8px; right:8px; background:none; border:none; font-size:18px; cursor:pointer;">&times;</button>
            <div class="publish-panel-content">
                <textarea id="publish-textarea" class="event-trigger-input" rows="15" placeholder="Enter your message here"></textarea>
                <div id="publish-status" style="margin-top:6px;min-height:20px;font-size:0.98em;"></div>
                <button id="publish-panel-btn" class="action-btn btn-publish-panel">Publish</button>
            </div>
        </div>
        <div id="tail-panel" class="app-detail-container topic-detail-container" style="display:none;">
            <button id="close-tail-panel" style="position:absolute; top:8px; right:8px; background:none; border:none; font-size:18px; cursor:pointer;">&times;</button>
            <div class="tail-panel-content">
                <label for="tail-limit-msg" style="font-size:0.98em;">Limit Messages:</label>
                <input type="number" id="tail-limit-msg" min="1" value="10" style="width:60px; margin-left:6px; margin-bottom:8px;">
                <button id="tail-panel-btn" class="action-btn btn-tail-panel">Tail</button>
                <div id="tail-status" style="margin-top:6px;min-height:20px;font-size:0.98em;"></div>
                <div id="tail-content" style="margin-top:8px; font-family:monospace; font-size:0.97em; background:#222; color:#b5f; padding:8px; border-radius:4px; min-height:120px; max-height:300px; overflow-y:auto;"></div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="/topic-details/topic_details.js"></script>
</body>
</html>